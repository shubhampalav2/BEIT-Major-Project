{% extends 'base.html' %} {% block title %}Plant Disease Detection{% endblock title %} 

{% block content %}

<div class="row-sm p-sm-5">
    <div class="col-sm-12 p-sm-5">
        <p class="text-center">
            <h3 class="text-center">
                Plant Disease Prediction
            </h3>
            <p class="text-center">
                Upload a image of plant to know what type of disease a plant has
            </p>
        </p>
        <p>
            <h4 class="text-center">
                Upload Image file
            </h4>
        </p>
        <div class="d-flex justify-content-center">
            <form method=post enctype=multipart/form-data name="myForm" onsubmit="return validateForm()">
                <input type=file name=file onchange="preview_image(event)">
                <input type=submit value=Predict class="text-white bg-success">
                <b><span id="error" style="color: red;"></span></b>
                <br>
                <br>
                <img id="output-image" class="rounded mx-auto d-block" />
            </form>
        </div>
        <script type="text/javascript">
        function validateForm(){
        var file = document.forms['myForm']["file"].value;
        if(file.length==0){
        document.getElementById('error').innerHTML="*Please Choose an Image";
        return false;
        }
        return true;
        }
            function preview_image(event) {
              document.getElementById('error').innerHTML="";
              var reader = new FileReader();
              reader.onload = function () {
                var output = document.getElementById('output-image')
                output.src = reader.result;
              }
              reader.readAsDataURL(event.target.files[0]);
            }
          </script>
    </div>
</div>


{% endblock content %}